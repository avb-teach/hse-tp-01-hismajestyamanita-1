
# 📁 Проект: ТЗ1 — `collect_files.sh`  
### Автор: Рудалёв Е.А., группа ББИ2406

---

## 📌 Описание

Скрипт `collect_files.sh` предназначен для **сбора всех файлов** из входной директории и всех её вложенных папок (любой глубины), и копирования этих файлов в **плоскую структуру** — выходную директорию **без вложенности**.

Также реализована поддержка опционального параметра `--max_depth`, который ограничивает глубину обхода, начиная с корня.

---

## 🚀 Как запустить

> Обязательно наличие Python 3 (в тестирующей системе уже есть 3.12.3)

### 📄 Команда:

```bash
./collect_files.sh input_dir output_dir [--max_depth N]
```

- `input_dir` — путь к папке, откуда собирать файлы
- `output_dir` — куда класть собранные файлы (должна быть пустой)
- `--max_depth N` — (необязательный параметр) ограничивает глубину обхода

---

## ✅ Что реализовано

- [x] Принимает 2 обязательных параметра: вход и выход
- [x] Корректно обходит вложенность любой глубины
- [x] Разруливает конфликты имён (file.txt → file1.txt → file2.txt и т.д.)
- [x] Поддерживает `--max_depth`
- [x] Минимальный и понятный код на Python без лишних библиотек

---

## 💡 Примеры работы скрипта

### 📁 Пример 1 — базовый случай (вложенность до 2 уровней)

**Структура входа:**
```
input_dir
├── a.txt
├── dir2
│   └── b.txt
├── dir3
│   └── c.txt
```

**Команда:**
```bash
./collect_files.sh input_dir output_dir
```

**Результат:**
```
output_dir
├── a.txt
├── b.txt
└── c.txt
```

---

### 📁 Пример 2 — одинаковые имена файлов

**Вход:**
```
input_dir
├── file.txt
├── dir1
│   └── file.txt
└── dir2
    └── file.txt
```

**Результат:**
```
output_dir
├── file.txt
├── file1.txt
└── file2.txt
```

---

### 📁 Пример 3 — `--max_depth 3`

**Структура:**
```
input_dir
├── 1.txt
├── depth2a
│   ├── 2a.txt
│   └── depth3
│       ├── 3.txt
│       └── depth4
│           └── 4.txt
└── depth2b
    └── 2b.txt
```

**Команда:**
```bash
./collect_files.sh input_dir output_dir --max_depth 3
```

**Результат:**
```
output_dir
├── 1.txt
├── depth2a
│   ├── 2a.txt
│   └── depth3
│       └── 3.txt
├── depth3
│   └── depth4
│       └── 4.txt
├── depth2b
│   └── 2b.txt
```

---

### 📁 Пример 4 — max_depth 1

**Структура:**
```
input_dir
├── a.txt
├── b.txt
├── dir1
│   └── skip.txt
```

**Команда:**
```bash
./collect_files.sh input_dir output_dir --max_depth 1
```

**Результат:**
```
output_dir
├── a.txt
├── b.txt
```

---

### 📁 Пример 5 — глубокая вложенность без ограничения

**Структура:**
```
input_dir
└── deep1
    └── deep2
        └── deep3
            └── deep4
                └── deep5.txt
```

**Команда:**
```bash
./collect_files.sh input_dir output_dir
```

**Результат:**
```
output_dir
└── deep5.txt
```

---

## 📝 Условия из задания

<details>
<summary>📖 Оригинальный текст</summary>

> Вам нужно написать скрипт на bash, который на вход принимает два параметра — входную директорию и выходную директорию.  
> Во входной директории могут находиться как файлы, так и вложенные директории.  
> Задача: скопировать **все файлы** (без папок) из вложенных директорий **в одну плоскую выходную директорию**.  
> Поддержка `--max_depth` — даёт +3 балла.

</details>

---

## 📬 Отправка решения

- Все файлы находятся в **корне репозитория**
- Ветка оформлена, Pull Request создан правильно
- Автотесты запускаются автоматически после коммита ✅

---

_С уважением, Рудалёв Евгений (ББИ2406)_